<% provide(:title, (t :edit_user)) %>
<% currently_at %>



  <div class="flex  flex-col md:flex-row min-h-full  justify-center px-3 py-5 lg:px-6">
   <%= form_with  model:[ :admin, @user] do|user| %>
  <div class="sm:mx-auto sm:w-full sm:max-w-sm">
    <%= render "shared/errors",object: @user %>
  </div>
  <div class="sm:mx-auto sm:w-full sm:max-w-sm">
  <div class="flex grow flex-row min-h-full flex-col justify-center px-3 py-5 lg:px-6">
      <div class="sm:mx-auto sm:w-full sm:max-w-sm">
      <%flash[:notice]= t :edit_user  %>
        <%= content_tag :div, class:"relative z-0 w-full mb-5 group" do%>
        <%= user.email_field :email, autocomplete: "почта", data: {name:"floating_email", id:"floating_email"}, placeholder:" ", class: "block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent rounded-md  border-0 border-l-2  border-gray-300 appearance-none
        dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:border-b-2 focus:ring-0 focus:border-gray-600 peer" %>
        <%= user.label :email,data:{for:"floating_email"},class:" mx-4 peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300
         transform -translate-y-8 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-gray-600
         peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" %>
         <% end %>

        <%= content_tag :div, class:"relative z-0 w-full mb-5 group" do%>
          <%= select_tag :role,options_for_select(user_roles,@user.role),  data: {name:"floating_email", id:"floating_email"}, placeholder:" ", class: "block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent rounded-md  border-0 border-l-2  border-gray-300 appearance-none
           dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:border-b-2 focus:ring-0 focus:border-gray-600 peer" %>
          <%= user.label :role ,data:{for:"floating_email"},class:" mx-4 peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300
         transform -translate-y-8 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-gray-600
         peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" %>
        <% end %>
      <div data-controller="check"> <!-- редактирование пароль стимулус  -->

          <div class="flex items-center py-2.5 my-3 ps-4 border border-gray-200 rounded dark:border-gray-700 ">
            <%=user.check_box  :update_pass, data:{action:"click->check#toggleCheck"}, class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"%>
            <label  class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"><%= t :edit_password %></label>
          </div>
        <div data-check-target="check" class="hidden py-2.5 " >  <!-- пароли  -->
          <%= content_tag :div, class:"relative z-0 w-full  mt-5 mb-5 group" do%>
            <%= user.password_field :password,  data: {name:"floating_email", id:"floating_email"}, placeholder:" ", class: "block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent rounded-md  border-0 border-l-2  border-gray-300 appearance-none
           dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:border-b-2 focus:ring-0 focus:border-gray-600 peer" %>
            <%= user.label "Пароль (минимум шесть символов)" ,data:{for:"floating_email"},class:" mx-4 peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300
         transform -translate-y-8 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-gray-600
         peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" %>
          <% end %>

          <%= content_tag :div, class:"relative z-0 w-full mb-5 group" do%>
            <%= user.password_field :password_confirmation,  data: {name:"floating_email", id:"floating_email"}, placeholder:" ", class: "block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent rounded-md  border-0 border-l-2  border-gray-300 appearance-none
           dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:border-b-2 focus:ring-0 focus:border-gray-600 peer" %>
            <%= user.label "Повтор пароля " ,data:{for:"floating_email"},class:" mx-4 peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300
         transform -translate-y-8 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-gray-600
         peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" %>
          <% end %>

          <%= content_tag :div, class:"relative z-0 w-full mb-5 group" do%>
            <%= user.password_field :current_password,  data: {name:"floating_email", id:"floating_email"}, placeholder:" ", class: "block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent rounded-md  border-0 border-l-2  border-gray-300 appearance-none
           dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:border-b-2 focus:ring-0 focus:border-gray-600 peer" %>
            <%= user.label "Введите текуший пароль для изменений" ,data:{for:"floating_email"},class:" mx-4 peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300
         transform -translate-y-8 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-gray-600
         peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" %>
          <% end %>
        </div>
      </div>


          <div class=" flex justify-center rounded-md border-gray-300 border-b-2 ">
            <%= user.submit (t :save),  class: " mt-3  rounded-md border-t-2  px-3 py-1.5 text-sm font-semibold leading-6 text-gray-400 transition duration-300  ease-in-out  hover:w-full hover:bg-gray-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
            %>
          </div>
        <div class="flex mx-11 mt-2 justify-between items-center rounded-md border-gray-300 border-t-2 ">
          <%= link_to 'back', :back %>
          <%=link_to( :back, class:'flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group',) do %>
            <%=picture_tag("back.png",class:'w-6 h-6 ') %>
          <%end %>
          <%=link_to( admin_user_path(@user), data:{turbo_method: :delete, turbo_confirm: "Are you sure?"},class:'flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group',) do %>
            <%=picture_tag("delete.png",class:'w-6 h-6 ') %>
          <%end %>
          <%= link_to 'Удалить', admin_user_path(@user), data: {turbo_method: :delete, turbo_confirm: "you_sure"} %>
        </div>

      </div>
  </div>
  </div>
  <div class="sm:mx-auto sm:w-full sm:max-w-sm">

  </div>
  <%end %>

  </div>